(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{7921:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[id]",function(){return n(926)}])},7624:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r={"aurelien-brabant":{name:"Aur\xe9lien Brabant",description:"Lorem ipsum dolor sin amet blabla....",photoUrl:"/authors/aurelien.webp"}}},926:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return K},default:function(){return W}});var r=n(5893),o=n(7294),a=n(5675),i=n(1664);var l={bold:{className:"font-medium",componentName:"b",key:"bold"},italic:{className:"italic",componentName:"i",key:"italic"},code:{className:"text-base text-orange-400 bg-01dp px-2",componentName:"code",key:"code"},href:{className:"text-orange-400 hover:underline hover:underline-offset-4",componentName:n(8046).Z,key:"href"}},s=function(e){var t,n,a,i=e.text,s=Object.keys(i).filter((function(e){return e in l&&i[e]})).map((function(e){return l[e]})),c=(0,r.jsx)(r.Fragment,{children:i.content}),u=!0,d=!1,m=void 0;try{for(var x,f=s[Symbol.iterator]();!(u=(x=f.next()).done);u=!0){var h=x.value;c=o.createElement(h.componentName,(t={className:h.className},n=h.key,a=String(i[h.key]),n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),c||(0,r.jsx)(r.Fragment,{children:i.content}))}}catch(g){d=!0,m=g}finally{try{u||null==f.return||f.return()}finally{if(d)throw m}}return c},c=function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e,t){return(0,r.jsx)(s,{text:e},t)}))})},u=n(7082),d=n(5985),m={1:"text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 ",2:"text-2xl mt-2 font-semibold",3:"text-xl mt-2 font-medium"},x=n(6896),f={orange_background:"border-white/10 border bg-orange-500/20",blue_background:"border-white/10 border bg-blue-500/20",red_background:"border-white/10 border bg-red-500/20",green_background:"border-white/10 border bg-green-500/20",purple_background:"border-white/10 border bg-purple-500/20",pink_background:"border-white/10 border bg-pink-500/20",yellow_background:"border-white/10 border bg-yellow-500/20"},h=n(4051),g=n.n(h),p=n(4283),b=n(5262),v=n(4580),j=n(6763),y=n(4339),w=n(4507);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(){var e,t=(e=g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.isSecureContext){e.next=3;break}return e.next=3,navigator.clipboard.writeText(t);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){k(a,r,o,i,l,"next",e)}function l(e){k(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),A="@BLOCKDIR ",I=(0,o.createContext)(null),T=function(){var e=(0,o.useContext)(I);return{setImage:e.setViewedImage,clearImage:e.clearViewedImage}},E={paragraph:function(e){var t=e.block;return(0,r.jsx)("p",{className:"my-4 break-words text-base text-white text-opacity-90 lg:text-lg",children:c(t.richText)})},heading:function(e){var t=e.block,n=t.level;return(0,r.jsxs)("div",{className:"group mt-3 flex items-center gap-x-4",children:[o.createElement("h".concat(n+1),{className:(0,d.A)("text-white text-opacity-95 pt-12 -mt-12",m[n]),id:t.slug},t.content),(0,r.jsx)(i.default,{href:"#".concat(t.slug),children:(0,r.jsx)("a",{children:(0,r.jsx)(u.Z,{className:"h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"})})})]})},callout:function(e){var t=e.block;return(0,r.jsxs)("div",{className:(0,d.A)("my-6 flex gap-x-4 rounded-sm py-3 px-4 text-white/90 shadow-md",f[t.color]),children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 flex-shrink-0 translate-y-1"}),(0,r.jsx)("p",{children:c(t.richText)})]})},codeblock:function(e){var t=e.block,n=(0,o.useRef)(null),a=function(e){for(var t=e.split("\n"),n={},r=0;r<t.length;++r){var o=t[r].trim();if(!o.startsWith(A))break;var a=_(o.slice(A.length).split(" "),2),i=a[0],l=a[1];n[i]=l}return{code:t.slice(0===t[r].trim().length?r+1:r).join("\n"),directives:n}}(t.code),i=a.code,l=a.directives,s=(0,o.useMemo)((function(){return(0,w.Au)(t.code,10)}),[t]),c=(0,o.useState)(s.length===t.code.length),u=c[0],d=c[1];return(0,r.jsxs)("div",{ref:n,className:"relative my-6 self-start border border-white/10 bg-01dp",children:[!u&&s.length!==t.code.length&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white",children:(0,r.jsx)("button",{onClick:function(){return d(!0)},className:"opacity-80 transition-all hover:opacity-100",children:"See more"})}),(0,r.jsxs)("div",{className:"sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90",children:[(0,r.jsxs)("span",{className:"flex items-center gap-x-2",children:[l.filename," ",(0,r.jsx)("i",{className:"devicon-".concat(t.language.toLowerCase(),"-plain ml-1 text-xl")})]}),(0,r.jsxs)("span",{className:"flex items-center",children:[s.length!==t.code.length&&(0,r.jsx)("button",{onClick:function(){var e,t;(d(!u),console.log(window.scrollY,null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().top),u&&n.current&&n.current.getBoundingClientRect().top<0)&&(console.log("ref"),null===(t=n.current)||void 0===t||t.scrollIntoView({}))},className:"rounded-sm p-2 text-white/80 transition-all active:text-white/100",children:u?(0,r.jsx)(v.Z,{className:"h5 w-5"}):(0,r.jsx)(j.Z,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:function(){return O(i)},className:"rounded-sm p-2 text-white/80 transition-all active:text-white/100",children:(0,r.jsx)(y.Z,{className:"h-5 w-5"})})]})]}),(0,r.jsx)(b.Z,{style:C({},p.xm,{hljs:C({},p.xm.hljs,{fontSize:".9em",backgroundColor:"inherit",padding:".75em 1em",overflowX:u?"auto":"hidden"})}),language:t.language,children:u?t.code:s})]})},image:function(e){var t=e.block,n=T(),o=n.setImage;n.clearImage;return(0,r.jsx)("button",{className:"mx-auto block transition-all hover:opacity-80",children:(0,r.jsx)("img",{onClick:function(){return o({src:t.url})},alt:"photo",src:t.url,className:"mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"})})}},Z=function(e){var t=e.blocks;return(0,r.jsx)("div",{id:"notion-renderer",children:t.map((function(e,t){var n=E[e.type];return(0,r.jsx)(n,{block:e},t)}))})},B=n(6727),F=n(5506),P=function(e){var t=e.image,n=e.open,a=e.setOpen;return(0,r.jsx)(B.uT.Root,{show:n,as:o.Fragment,children:(0,r.jsx)(B.Vq,{as:"div",className:"fixed inset-0 z-40 overflow-y-auto",onClose:a,children:(0,r.jsxs)("div",{className:"relative flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:p-0",children:[(0,r.jsx)(B.uT.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(B.Vq.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)(B.uT.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsxs)("div",{className:"relative mx-4 mt-8 shadow-lg",children:[(0,r.jsx)("button",{onClick:function(){return a(!1)},className:"absolute right-4 top-4 rounded-full border border-white/10 bg-orange-200 p-2 text-orange-600 shadow-md transition-all hover:bg-orange-100 focus:outline-none",children:(0,r.jsx)(F.Z,{className:"h-5 w-5"})}),t&&(0,r.jsx)("img",{className:" h-full max-h-[80vh] rounded-sm",src:t.src,alt:t.alt})]})})]})})})},D=function(e){var t=e.children,n=(0,o.useState)(!1),a=n[0],i=n[1],l=(0,o.useState)(null),s=l[0],c=l[1];return(0,r.jsxs)(I.Provider,{value:{clearViewedImage:function(){i(!1),setTimeout((function(){return c(null)}),200)},setViewedImage:function(e){i(!0),c(e)}},children:[(0,r.jsx)(P,{open:a,setOpen:i,image:s}),t]})},L={1:"",2:"ml-2",3:"ml-4"},R=function(e){var t=e.headingBlocks,n=(0,o.useState)(t[0].slug),a=n[0];return function(e){var t=e.setActiveHeading,n=(0,o.useRef)({});(0,o.useEffect)((function(){var e=Array.from(window.document.querySelectorAll("h2, h3, h4")),r=new IntersectionObserver((function(r){n.current=r.reduce((function(e,t){return e[t.target.id]=t,e}),n.current);var o=[];Object.keys(n.current).forEach((function(e){var t=n.current[e];t.isIntersecting&&o.push(t)}));var a=function(t){return e.findIndex((function(e){return e.id===t}))};if(1===o.length)t(o[0].target.id);else if(o.length>1){var i=o.sort((function(e,t){return a(e.target.id)-a(t.target.id)}));t(i[0].target.id)}}),{rootMargin:"-48px 0px -40% 0px"});return e.forEach((function(e){return r.observe(e)})),function(){return r.disconnect()}}),[t])}({setActiveHeading:n[1]}),(0,r.jsx)("aside",{className:"flex max-h-[90vh] flex-col gap-y-4 gap-x-2 self-start overflow-x-auto text-base text-white/90",children:t.map((function(e){return(0,r.jsxs)("div",{className:(0,d.A)("flex items-center gap-x-4",L[e.level]),children:[(0,r.jsx)("span",{className:(0,d.A)("h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all",a===e.slug&&"border-orange-400 bg-orange-400")}),(0,r.jsx)("a",{href:"#".concat(e.slug),onClick:function(t){var n;t.preventDefault(),null===(n=null===document||void 0===document?void 0:document.querySelector("#".concat(e.slug)))||void 0===n||n.scrollIntoView({behavior:"smooth"})},className:"text-white/85 transition-all hover:text-white",children:e.content})]},e.slug)}))})},V=n(4320),z=n(7624),q=n(1782),M=n(9748),U=n(4634),X=n(3447),H=n(9008),Y=n(3541),G="http://localhost:3000",K=!0,W=function(e){var t=e.coverUrl,n=e.title,l=e.description,s=e.blocks,c=e.lastEditedTime,u=e.slug,m=e.createdTime,x=e.tags,f=(0,o.useState)(!1),h=f[0],g=f[1],p=(0,o.useMemo)((function(){return s.filter((function(e){return"heading"===e.type}))}),[]),b=((0,o.useMemo)((function(){if("undefined"===typeof document)return-1;var e=document.querySelector("#pre-notion-renderer");return(null===e||void 0===e?void 0:e.getBoundingClientRect().top)||-1}),[]),z.o["aurelien-brabant"],function(){var e=document.querySelector("#pre-notion-renderer");if(e){var t=e.getBoundingClientRect().y;g(t<0)}});return(0,o.useEffect)((function(){return document.addEventListener("scroll",b),function(){return document.removeEventListener("scroll",b)}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(H.default,{children:[(0,r.jsxs)("title",{children:[n," | Aurelien Brabant"]}),(0,r.jsx)("meta",{name:"description",content:l}),(0,r.jsx)("link",{rel:"canonical",href:"".concat(G,"/blog/").concat(u)}),(0,r.jsx)("meta",{property:"og:title",content:n}),(0,r.jsx)("meta",{property:"og:description",content:l}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(G,"/blog/").concat(u)}),(0,r.jsx)("meta",{property:"og:image",content:t}),(0,r.jsx)("meta",{property:"og:image:alt",content:"Cover image of post ".concat(n)}),(0,r.jsx)("meta",{property:"og:type",content:"article"}),(0,r.jsx)("meta",{property:"og:article:published_time",content:new Date(m).toISOString()}),(0,r.jsx)("meta",{property:"og:article:modified_time",content:new Date(c).toISOString()}),(0,r.jsx)("meta",{property:"og:article:author",content:"Aur\xe9lien Brabant"}),x.map((function(e){return(0,r.jsx)("meta",{property:"og:article:tag",content:e.name},e.name)}))]}),(0,r.jsxs)("div",{className:(0,d.A)("fixed top-0 left-0 right-0 flex items-center justify-between border border-white/10 bg-dark px-4 text-white/90 shadow-lg transition-all",h?"z-50 h-12 opacity-100":"-z-50 h-0 opacity-0"),children:[(0,r.jsx)(i.default,{href:"/blog",children:(0,r.jsx)("a",{children:(0,r.jsx)(q.Z,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{className:"hidden text-orange-400 lg:block",children:"You are reading:"}),(0,r.jsx)("span",{className:"... w-32 truncate lg:ml-4 lg:w-auto",children:n}),(0,r.jsx)("button",{className:"ml-4 flex items-center gap-x-1 rounded-full bg-orange-400/20 p-1 text-xs text-orange-400",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},children:(0,r.jsx)(M.Z,{className:"h-4 w-4 text-white/90"})})]}),(0,r.jsx)("div",{})]}),(0,r.jsx)(Y.pT,{children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl scroll-smooth",children:[(0,r.jsx)(V.Z,{}),(0,r.jsx)(D,{children:(0,r.jsxs)("main",{className:"mx-auto mt-8 items-start gap-x-8 gap-y-16  pb-8 text-lg lg:mt-24 ",children:[(0,r.jsx)("section",{className:"flex flex-col gap-y-2  bg-cover bg-center px-4 py-4",children:(0,r.jsx)("div",{className:"border-b-2 border-white/10 pb-6",children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold font-medium text-white",children:n}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col items-start gap-y-2 gap-x-4 text-base text-white/90 xl:flex-row xl:items-center",children:[(0,r.jsxs)("time",{className:"block text-base",children:["Last updated:"," ",new Date(c).toLocaleDateString()]}),(0,r.jsx)("span",{className:"hidden xl:inline",children:"\xb7"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,r.jsx)("div",{className:"relative h-8 w-8 shrink-0 overflow-hidden rounded-full",children:(0,r.jsx)(a.default,{src:"/authors/aurelien.webp",alt:"",layout:"fill"})}),"By Aur\xe9lien Brabant"]})]})]})})}),(0,r.jsxs)("section",{className:"mt-6 items-start xl:mt-6 xl:grid xl:grid-cols-3 xl:gap-x-8",children:[(0,r.jsxs)("div",{className:"col-span-2  bg-dark px-2 lg:px-4",id:"pre-notion-renderer",children:[(0,r.jsxs)("div",{className:"relative mb-12 hidden h-80 w-full overflow-hidden rounded-md xl:block",children:[(0,r.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-04dp",children:(0,r.jsx)(U.Z,{className:"h-16 w-16 animate-pulse text-white/30"})}),(0,r.jsx)("img",{src:t,className:"absolute z-20 h-full w-full object-cover object-center"})]}),(0,r.jsx)(Z,{blocks:s})]}),(0,r.jsx)("div",{className:"sticky top-16 hidden xl:block",children:(0,r.jsx)(R,{headingBlocks:p})})]})]})})]})}),(0,r.jsx)(X.Z,{})]})}},4507:function(e,t,n){"use strict";n.d(t,{Au:function(){return r},ND:function(){return a}});var r=function(e,t){return e.split("\n").slice(0,t).join("\n")},o=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},a=function(e,t){var n=t.map((function(e){return o(e).toLowerCase()}));return o(e).toLowerCase().split(" ").every((function(e){return n.find((function(t){return t.includes(e)}))}))}}},function(e){e.O(0,[589,445,750,774,888,179],(function(){return t=7921,e(e.s=t);var t}));var t=e.O();_N_E=t}]);