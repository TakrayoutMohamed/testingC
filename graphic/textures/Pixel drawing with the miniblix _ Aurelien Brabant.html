<!DOCTYPE html>
<!-- saved from url=(0063)https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx -->
<html lang="en" style=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/gtm.js"></script><meta name="viewport" content="width=device-width"><link rel="stylesheet" href="./Pixel drawing with the miniblix _ Aurelien Brabant_files/inter.css"><link rel="preconnect" href="https://fonts.googleapis.com/"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="true"><link rel="stylesheet" href="./Pixel drawing with the miniblix _ Aurelien Brabant_files/devicon.min.css"><title>Pixel drawing with the miniblix | Aurelien Brabant</title><meta name="description" content="All you need to know about drawing pixels with the minilibx"><link rel="canonical" href="http://localhost:3000/blog/pixel-drawing-with-the-minilibx"><meta property="og:title" content="Pixel drawing with the miniblix"><meta property="og:description" content="All you need to know about drawing pixels with the minilibx"><meta property="og:url" content="http://localhost:3000/blog/pixel-drawing-with-the-minilibx"><meta property="og:image" content="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4782d9b0-bdbc-4920-9c8d-603d98d047f1/pixel-drawing-with-the-minilibx.webp?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20230228T150548Z&amp;X-Amz-Expires=3600&amp;X-Amz-Signature=55363575e32ca3d2c77a2618a17018fc28a069211ffffc12b59a78a89b225bba&amp;X-Amz-SignedHeaders=host&amp;x-id=GetObject"><meta property="og:image:alt" content="Cover image of post Pixel drawing with the miniblix"><meta property="og:type" content="article"><meta property="og:article:published_time" content="2022-04-06T17:59:00.000Z"><meta property="og:article:modified_time" content="2022-05-29T12:19:00.000Z"><meta property="og:article:author" content="Aurélien Brabant"><meta property="og:article:tag" content="C"><meta property="og:article:tag" content="Graphics Programming"><meta property="og:article:tag" content="school 42"><meta name="next-head-count" content="21"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link rel="preload" href="./Pixel drawing with the miniblix _ Aurelien Brabant_files/28021581cd0cf96f.css" as="style"><link rel="stylesheet" href="./Pixel drawing with the miniblix _ Aurelien Brabant_files/28021581cd0cf96f.css" data-n-g=""><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/polyfills-5cd94c89d3acac5f.js"></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/webpack-df4cf1c8d23aa877.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/framework-5f4595e5518b5600.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/main-0efa328c890face3.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/_app-a84af5925e974ffc.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/589-64d840ad439bda3c.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/445-ffd33e54117f7108.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/750-e547e28a8a1e802a.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/[id]-c2d12c6bdc82a29a.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/_buildManifest.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/_ssgManifest.js" defer=""></script><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital@0;1&amp;display=swap">@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LflOT.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOamaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOTmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOUmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOYmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOZmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOXmaSxggPBcV8.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTN1OTk6OThhvAWV8.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOVOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNVOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNFOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOTk6OThhvA.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-emotion="css sanqhm" data-s="">.css-sanqhm{opacity:0;}</style><style data-emotion="css" data-s=""></style><style>[id*='google_ads_iframe'],.taboolaHeight,#credential_picker_container,#credential_picker_iframe,.google-one-tap-modal-div{display:none!important;min-height:0!important;height:0!important;}</style><link as="script" rel="prefetch" href="./Pixel drawing with the miniblix _ Aurelien Brabant_files/blog-5756ddf98fd2633b.js"></head><body><noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=&gtm_auth=&gtm_preview=&gtm_cookies_win=x"
        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe></noscript><div id="__next" data-reactroot=""><style>
      #nprogress {
        pointer-events: none;
      }
      #nprogress .bar {
        background: #fb923c;
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
      }
      #nprogress .peg {
        display: block;
        position: absolute;
        right: 0px;
        width: 100px;
        height: 100%;
        box-shadow: 0 0 10px #fb923c, 0 0 5px #fb923c;
        opacity: 1;
        -webkit-transform: rotate(3deg) translate(0px, -4px);
        -ms-transform: rotate(3deg) translate(0px, -4px);
        transform: rotate(3deg) translate(0px, -4px);
      }
      #nprogress .spinner {
        display: block;
        position: fixed;
        z-index: 1031;
        top: 15px;
        right: 15px;
      }
      #nprogress .spinner-icon {
        width: 18px;
        height: 18px;
        box-sizing: border-box;
        border: solid 2px transparent;
        border-top-color: #fb923c;
        border-left-color: #fb923c;
        border-radius: 50%;
        -webkit-animation: nprogresss-spinner 400ms linear infinite;
        animation: nprogress-spinner 400ms linear infinite;
      }
      .nprogress-custom-parent {
        overflow: hidden;
        position: relative;
      }
      .nprogress-custom-parent #nprogress .spinner,
      .nprogress-custom-parent #nprogress .bar {
        position: absolute;
      }
      @-webkit-keyframes nprogress-spinner {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
      @keyframes nprogress-spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style><div class="fixed top-0 left-0 right-0 flex items-center justify-between border border-white/10 bg-dark px-4 text-white/90 shadow-lg transition-all z-50 h-12 opacity-100"><a href="https://aurelienbrabant.fr/blog"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg></a><div class="flex"><span class="hidden text-orange-400 lg:block">You are reading:</span><span class="... w-32 truncate lg:ml-4 lg:w-auto">Pixel drawing with the miniblix</span><button class="ml-4 flex items-center gap-x-1 rounded-full bg-orange-400/20 p-1 text-xs text-orange-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-4 w-4 text-white/90"><path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg></button></div><div></div></div><div class="css-1gzxeik"><div class="mx-auto max-w-7xl scroll-smooth"><div><div class="relative px-4 pt-6 sm:px-6 lg:px-8"><nav class="relative flex items-center justify-between sm:h-10 lg:justify-start" aria-label="Global"><div class="flex flex-shrink-0 flex-grow items-center lg:flex-grow-0"><div class="flex w-full items-center justify-between md:w-auto"><a href="https://aurelienbrabant.fr/"><span class="sr-only">Aurélien Brabant&amp;aposs logo</span><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2760%27%20height=%2760%27/%3e"></span><img alt="Aurelien Brabant&#39;s logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="h-8 w-auto sm:h-10" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"><noscript><img alt="Aurelien Brabant&#x27;s logo" srcSet="/logo.svg 1x, /logo.svg 2x" src="/logo.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="h-8 w-auto sm:h-10" loading="lazy"/></noscript></span></a><div class="-mr-2 flex items-center md:hidden"><button class="inline-flex items-center justify-center rounded-md bg-dark p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-400" id="headlessui-popover-button-1" type="button" aria-expanded="false"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></div></div><div class="hidden w-full justify-between md:ml-10 md:block md:flex md:gap-x-4 md:pr-4"><div class="flex items-center gap-x-4"><a class="font-medium text-white text-opacity-90 hover:text-opacity-95" href="https://aurelienbrabant.fr/">Solutions</a><a class="font-medium text-white text-opacity-90 hover:text-opacity-95" href="https://aurelienbrabant.fr/blog">Blog</a></div><a class="rounded-sm bg-orange-400 px-3 py-2 font-medium text-black transition-all hover:bg-orange-500" href="https://aurelienbrabant.fr/contact">Get in touch</a></div></nav></div></div><main class="mx-auto mt-8 items-start gap-x-8 gap-y-16  pb-8 text-lg lg:mt-24 "><section class="flex flex-col gap-y-2  bg-cover bg-center px-4 py-4"><div class="border-b-2 border-white/10 pb-6"><div class="col-span-2"><h1 class="text-5xl font-bold font-medium text-white">Pixel drawing with the miniblix</h1><div class="mt-4 flex flex-col items-start gap-y-2 gap-x-4 text-base text-white/90 xl:flex-row xl:items-center"><time class="block text-base">Last updated:<!-- --> <!-- -->5/29/2022</time><span class="hidden xl:inline">·</span><div class="flex items-center gap-x-4"><div class="relative h-8 w-8 shrink-0 overflow-hidden rounded-full"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"><noscript><img alt="" sizes="100vw" srcSet="/_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fauthors%2Faurelien.webp&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>By Aurélien Brabant</div></div></div></div></section><section class="mt-6 items-start xl:mt-6 xl:grid xl:grid-cols-3 xl:gap-x-8"><div class="col-span-2  bg-dark px-2 lg:px-4" id="pre-notion-renderer"><div class="relative mb-12 hidden h-80 w-full overflow-hidden rounded-md xl:block"><div class="absolute inset-0 z-10 flex items-center justify-center bg-04dp"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-16 w-16 animate-pulse text-white/30"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><img src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/pixel-drawing-with-the-minilibx.webp" class="absolute z-20 h-full w-full object-cover object-center"></div><div id="notion-renderer"><div class="group mt-3 flex items-center gap-x-4"><h2 class="text-white text-opacity-95 pt-12 -mt-12 text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 " id="Wanderer-beware">Wanderer, beware!</h2><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Wanderer-beware"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Hey! If this post is the first you're reading from me about the minilibx, <a target="_blank" rel="noreferrer" class="text-orange-400 hover:underline hover:underline-offset-4" href="https://aurelienbrabant.fr/blog/getting-started-with-the-minilibx">you'd better check out the first
post</a>, which explains all the basics you need to know.
That said, let's discuss how we are going to handle events using the minilibx!</p><div class="group mt-3 flex items-center gap-x-4"><h2 class="text-white text-opacity-95 pt-12 -mt-12 text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 " id="Screen-metrics">Screen metrics</h2><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Screen-metrics"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Before we actually start, I'd want to make sure we are all on the same page.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">A computer screen is basically a 2D object that has <code class="text-base text-orange-400 bg-01dp px-2" code="true">x</code> and <code class="text-base text-orange-400 bg-01dp px-2" code="true">y</code> coordinates. By convention, it is considered that the top left corner
of the screen is the origin (x = 0, y = 0).</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Let's consider a common screen resolution, that is <b class="font-medium" bold="true">1920x1080</b>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In this case, that means that there's 1080 rows of pixels on the screen, and that each row has 1920 pixels. The y axis is used to represent
the row number, while the x axis is used to represent the column number.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">As an exemple, let's say we want to draw a line that has the following endpoints: P1(0, 100) and P2(1920, 100).</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The following is what is going to be rendered on the window:</p><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/Untitled.png" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">What we get is an horizontal line taking all the width of the screen (we went from x=0 to x=1920), with a top margin of 100 pixels (the two points have
the same y coordinate, 100, therefore the line is drawn on the 100th row).</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now that we've the basics in mind, let's move on!</p><div class="group mt-3 flex items-center gap-x-4"><h2 class="text-white text-opacity-95 pt-12 -mt-12 text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 " id="Drawing-pixels-on-the-window-using-mlx_pixel_put">Drawing pixels on the window using mlx_pixel_put</h2><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawing-pixels-on-the-window-using-mlx_pixel_put"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Drawing pixels is the most basic thing a graphical library is used for, and the minilibx provides us simple ways
of doing that.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The straightforward way is to use the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> function. Let's take a look to the prototype:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span>	</span><span class="token" style="color:#ffc66d">mlx_pixel_put</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">void</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>mlx_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">void</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>win_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> x</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> y</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We've already explained what <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_ptr</code> and <code class="text-base text-orange-400 bg-01dp px-2" code="true">win_ptr</code> are, and the others parameters are self-explanatory. <code class="text-base text-orange-400 bg-01dp px-2" code="true">x</code> and <code class="text-base text-orange-400 bg-01dp px-2" code="true">y</code> are the coordinate
of the pixel, according to the metric considerations we just discussed.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Finally, we need to tell the minilibx what is going to be the color of the pixel at this coordinates. But how are we going to represent a color ?</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Encoding-a-color-according-to-the-True-Color-standard">Encoding a color, according to the True Color standard</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Encoding-a-color-according-to-the-True-Color-standard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/Untitled(1).png" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Several ways of representing colors for computer graphics exist. The minilibx is complying to the <b class="font-medium" bold="true">true color</b> standard.
Here's the definition of what the true color standard is, according to <a target="_blank" rel="noreferrer" class="text-orange-400 hover:underline hover:underline-offset-4" href="https://www.techopedia.com/definition/496/true-color">techopedia</a>:</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">With the minilibx, we need to make the color fit into an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> datatype. That means that we need the <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> datatype to be 32 bits on our system.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We need to encode our color into an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> by setting the three least significant bits to the amount of red, green and blue, respectively.
We can encode our <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> using two different ways:</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Settings-the-bits-directly">Settings the bits directly</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Settings-the-bits-directly"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We can simply set the bits of the integer directly, using the <code class="text-base text-orange-400 bg-01dp px-2" code="true">&lt;&lt;</code> (left shift) as shown in the function below:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span>	</span><span class="token" style="color:#ffc66d">encode_rgb</span><span class="token" style="color:#a9b7c6">(</span><span class="token class-name">uint8_t</span><span> red</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token class-name">uint8_t</span><span> green</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token class-name">uint8_t</span><span> blue</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>red </span><span class="token" style="color:#a9b7c6">&lt;&lt;</span><span> </span><span class="token" style="color:#6897bb">16</span><span> </span><span class="token" style="color:#a9b7c6">|</span><span> green </span><span class="token" style="color:#a9b7c6">&lt;&lt;</span><span> </span><span class="token" style="color:#6897bb">8</span><span> </span><span class="token" style="color:#a9b7c6">|</span><span> blue</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">This code will simply encode the red, green, and blue values into the returned integer.</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Using-the-hexadecimal-notation">Using the hexadecimal notation</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Using-the-hexadecimal-notation"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Hexadecimal is widely used when using encoded values because it allows us to clearly distiguish the bytes that form
an integer. To do so, we need to think about an hexadecimal number as groups of two digits. One group of two digits
represents an entire byte.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Be aware tho, that in hexadecimal we have a total of sixteen digits used to represent a number <code class="text-base text-orange-400 bg-01dp px-2" code="true">(0123456789 ((abcdef) || (ABCDEF)))</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">For example, let's say we're assigning the value <code class="text-base text-orange-400 bg-01dp px-2" code="true">0x00FF00FF</code> to an integer. Just by looking at the number, we can tell that red is FF (255), green is 0
and blue is FF (255). Pretty easy to figure out isn't it ?</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">However, this solution is interesting <b class="font-medium" bold="true">only if we already know what color we want to use at compile time</b>. If the color is somehow provided by the user or
from any external source, we will need to use the <code class="text-base text-orange-400 bg-01dp px-2" code="true">encode_rgb</code> function.</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Lets-put-the-pixel-">Let's put the pixel !</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-put-the-pixel-"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now that we know how to use the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code>, let's put our first pixel on the window!</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M20 12H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size: 0.9em; background-color: inherit; padding: 0.75em 1em; overflow-x: auto;"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">include</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro" style="color:#6a8759">&lt;stdlib.h&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">include</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro" style="color:#6a8759">&lt;stdio.h&gt;</span><span>
</span>
<span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">include</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro" style="color:#6a8759">&lt;X11/X.h&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">include</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro" style="color:#6a8759">&lt;X11/keysym.h&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">include</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro" style="color:#6a8759">&lt;mlx.h&gt;</span><span>
</span>
<span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">define</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro macro-name" style="color:#9876aa">WINDOW_WIDTH</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro expression" style="color:#6897bb">600</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">define</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro macro-name" style="color:#9876aa">WINDOW_HEIGHT</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro expression" style="color:#6897bb">300</span><span>
</span>
<span></span><span class="token macro directive-hash" style="color: rgb(152, 118, 170);">#</span><span class="token macro directive" style="color: rgb(204, 120, 50);">define</span><span class="token macro" style="color: rgb(152, 118, 170);"> </span><span class="token macro macro-name" style="color: rgb(152, 118, 170);">MLX_ERROR</span><span class="token macro" style="color: rgb(152, 118, 170);"> </span><span class="token macro expression" style="color: rgb(104, 151, 187);">1</span><span>
</span>
<span></span><span class="token macro directive-hash" style="color: rgb(152, 118, 170);">#</span><span class="token macro directive" style="color: rgb(204, 120, 50);">define</span><span class="token macro" style="color: rgb(152, 118, 170);"> </span><span class="token macro macro-name" style="color: rgb(152, 118, 170);">RED_PIXEL</span><span class="token macro" style="color: rgb(152, 118, 170);"> </span><span class="token macro expression" style="color: rgb(104, 151, 187);">0xFF0000</span><span>
</span>
<span></span><span class="token" style="color: rgb(204, 120, 50);">typedef</span><span> </span><span class="token" style="color: rgb(204, 120, 50);">struct</span><span> </span><span class="token class-name">s_data</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">void</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">*</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">void</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">*</span><span>win_ptr</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>	t_data</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span>
<span></span><span class="token" style="color: rgb(204, 120, 50);">int</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">handle_keypress</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span class="token" style="color: rgb(204, 120, 50);">int</span><span> keysym</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> t_data </span><span class="token" style="color: rgb(169, 183, 198);">*</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">if</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>keysym </span><span class="token" style="color: rgb(169, 183, 198);">==</span><span> XK_Escape</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>		</span><span class="token" style="color: rgb(255, 198, 109);">mlx_destroy_window</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>win_ptr</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>		data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>win_ptr </span><span class="token" style="color: rgb(169, 183, 198);">=</span><span> </span><span class="token" style="color: rgb(152, 118, 170);">NULL</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">return</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span class="token" style="color: rgb(104, 151, 187);">0</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>
</span>
<span></span><span class="token" style="color: rgb(204, 120, 50);">int</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">render</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>t_data </span><span class="token" style="color: rgb(169, 183, 198);">*</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>	</span><span class="token" style="color: rgb(128, 128, 128);">/* if window has been destroyed, we don't want to put the pixel ! */</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">if</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>win_ptr </span><span class="token" style="color: rgb(169, 183, 198);">!=</span><span> </span><span class="token" style="color: rgb(152, 118, 170);">NULL</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span>		</span><span class="token" style="color: rgb(255, 198, 109);">mlx_pixel_put</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> data</span><span class="token" style="color: rgb(169, 183, 198);">-&gt;</span><span>win_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> 
</span><span>			WINDOW_WIDTH </span><span class="token" style="color: rgb(169, 183, 198);">/</span><span> </span><span class="token" style="color: rgb(104, 151, 187);">2</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> WINDOW_HEIGHT </span><span class="token" style="color: rgb(169, 183, 198);">/</span><span> </span><span class="token" style="color: rgb(104, 151, 187);">2</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> RED_PIXEL</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">return</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span class="token" style="color: rgb(104, 151, 187);">0</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>
</span>
<span></span><span class="token" style="color: rgb(204, 120, 50);">int</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">main</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span class="token" style="color: rgb(204, 120, 50);">void</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>	t_data	data</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span>
<span>	data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr </span><span class="token" style="color: rgb(169, 183, 198);">=</span><span> </span><span class="token" style="color: rgb(255, 198, 109);">mlx_init</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">if</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr </span><span class="token" style="color: rgb(169, 183, 198);">==</span><span> </span><span class="token" style="color: rgb(152, 118, 170);">NULL</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span>		</span><span class="token" style="color: rgb(204, 120, 50);">return</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>MLX_ERROR</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>win_ptr </span><span class="token" style="color: rgb(169, 183, 198);">=</span><span> </span><span class="token" style="color: rgb(255, 198, 109);">mlx_new_window</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> WINDOW_WIDTH</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> WINDOW_HEIGHT</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span>
</span><span>								</span><span class="token" style="color: rgb(106, 135, 89);">"my window"</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(204, 120, 50);">if</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>win_ptr </span><span class="token" style="color: rgb(169, 183, 198);">==</span><span> </span><span class="token" style="color: rgb(152, 118, 170);">NULL</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span>
</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">{</span><span>
</span><span>		</span><span class="token" style="color: rgb(255, 198, 109);">free</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>win_ptr</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>		</span><span class="token" style="color: rgb(204, 120, 50);">return</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>MLX_ERROR</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>
</span>
<span>	</span><span class="token" style="color: rgb(128, 128, 128);">/* Setup hooks */</span><span> 
</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">mlx_loop_hook</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">&amp;</span><span>render</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">&amp;</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">mlx_hook</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>win_ptr</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> KeyPress</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> KeyPressMask</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">&amp;</span><span>handle_keypress</span><span class="token" style="color: rgb(169, 183, 198);">,</span><span> </span><span class="token" style="color: rgb(169, 183, 198);">&amp;</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span>
<span>	</span><span class="token" style="color: rgb(255, 198, 109);">mlx_loop</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span>
<span>	</span><span class="token" style="color: rgb(128, 128, 128);">/* we will exit the loop if there's no window left, and execute this code */</span><span>
</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">mlx_destroy_display</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span>	</span><span class="token" style="color: rgb(255, 198, 109);">free</span><span class="token" style="color: rgb(169, 183, 198);">(</span><span>data</span><span class="token" style="color: rgb(169, 183, 198);">.</span><span>mlx_ptr</span><span class="token" style="color: rgb(169, 183, 198);">)</span><span class="token" style="color: rgb(169, 183, 198);">;</span><span>
</span><span></span><span class="token" style="color: rgb(169, 183, 198);">}</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Here, we're making use of the <code class="text-base text-orange-400 bg-01dp px-2" code="true">render</code> function, the address of which is passed to the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_loop_hook</code> function. In the previous
post, we called this function <code class="text-base text-orange-400 bg-01dp px-2" code="true">handle_no_event</code>, because it is triggered continuously while the loop is running.
Because the <code class="text-base text-orange-400 bg-01dp px-2" code="true">render</code> function's code needs to be run at each frame, we can use it to render all the things we want to display
on the screen!</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Notice the call to <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code>. We passed it two coordinates, that are the half of the window's width and height
respectively, which gives us the center of the window. The color is specified in the hexadecimal format, as a macro called
<code class="text-base text-orange-400 bg-01dp px-2" code="true">RED_PIXEL</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Try to run this code. You should notice a small red pixel on the center of the window. That's it, here is our first pixel!</p><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/Untitled(2).png" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="A-small-check-to-be-safe">A small check to be safe</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#A-small-check-to-be-safe"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Please notice the <code class="text-base text-orange-400 bg-01dp px-2" code="true">if</code> statement added before the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> function. This statement is here to ensure the window still exists,
to avoid puting a pixel on a window that is no longer available. Because of how <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_loop</code> is implemented, this is what would have
happened if we didn't add this check. Moreover, we needed to ensure that our <code class="text-base text-orange-400 bg-01dp px-2" code="true">win_ptr</code> was set to <code class="text-base text-orange-400 bg-01dp px-2" code="true">NULL</code> after the call to <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_destroy_window</code>
to make this check actually work.</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Lets-draw-a-rectangle-">Let's draw a rectangle !</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-draw-a-rectangle-"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now that we know how to put a pixel on the screen, implementing a function that'll put a rectangle
instead is pretty straightforward. Rectangles are really useful, and it is very likely that we're
going to use them really much.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Here's one implementation we can use:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token macro directive-hash" style="color:#9876aa">#</span><span class="token macro directive" style="color:#cc7832">define</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro macro-name" style="color:#9876aa">GREEN_PIXEL</span><span class="token macro" style="color:#9876aa"> </span><span class="token macro expression" style="color:#6897bb">0xFF00</span><span>
</span>
<span></span><span class="token" style="color:#cc7832">typedef</span><span> </span><span class="token" style="color:#cc7832">struct</span><span> </span><span class="token class-name">s_rect</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	x</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	y</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span> width</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span> height</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>	t_rect</span><span class="token" style="color:#a9b7c6">;</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We will not discuss the mathematics used here, as it is really basic. For each row we
need to draw, we are filling the appropriated number of pixels depending on the rectangle's width.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Note that there's no check performed on the rectangle's member variables. One can implement some checks
to ensure the values are correct, but I think that's not necessary here.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In order for us to render the rectangles, we need to modify the <code class="text-base text-orange-400 bg-01dp px-2" code="true">render</code> function:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span>	</span><span class="token" style="color:#ffc66d">render</span><span class="token" style="color:#a9b7c6">(</span><span>t_data </span><span class="token" style="color:#a9b7c6">*</span><span>data</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>WINDOW_WIDTH </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> WINDOW_HEIGHT </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>			</span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> GREEN_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> RED_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	</span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In case you're wondering, <code class="text-base text-orange-400 bg-01dp px-2" code="true">(t_rect){}</code> is what is called a <i class="italic" italic="true">compound literal</i>. Since C99, this is a way
to initialize structures without having to manually assign each member. I'm directly passing a structure
by value here.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">These <code class="text-base text-orange-400 bg-01dp px-2" code="true">render_rect</code> function calls will display two rectangles: one in the upper left corner of the window (red), and the other
in the bottom right corner (green).</p><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/Untitled(3).png" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Drawbacks-of-our-approach">Drawbacks of our approach</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawbacks-of-our-approach"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Were you thinking it would be that easy ?</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In this section, I'm going to explain why the approach of using the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> is bad.
I know, I know, that's not really nice. I just teached you something and now I'm saying it's useless!
Trust me, what we learned together is far from being pointless. In fact, thanks to that we'll find what the problem is.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">At the moment, there's no problem when we're rendering our rectanges on the screen. Well, there's a problem, but we can't
really see it in a simple configuration like that.</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Lets-find-out-what-the-problem-is">Let's find out what the problem is</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-find-out-what-the-problem-is"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">To visualize what is wrong, let's implement a <code class="text-base text-orange-400 bg-01dp px-2" code="true">render_background</code> function that will change the background color of
the window:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#ffc66d">render_background</span><span class="token" style="color:#a9b7c6">(</span><span>t_data </span><span class="token" style="color:#a9b7c6">*</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	i</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	j</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	</span><span class="token" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>win_ptr </span><span class="token" style="color:#a9b7c6">==</span><span> </span><span class="token" style="color:#9876aa">NULL</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>		</span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	i </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>i </span><span class="token" style="color:#a9b7c6">&lt;</span><span> WINDOW_HEIGHT</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>	</span><span class="token" style="color:#a9b7c6">{</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">This function will set all the pixels of the window to the same color.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now let's add it to our <code class="text-base text-orange-400 bg-01dp px-2" code="true">render</code> function.</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span>	</span><span class="token" style="color:#ffc66d">render</span><span class="token" style="color:#a9b7c6">(</span><span>t_data </span><span class="token" style="color:#a9b7c6">*</span><span>data</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_background</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> WHITE_PIXEL</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>WINDOW_WIDTH </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> WINDOW_HEIGHT </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> GREEN_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> RED_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	</span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Be careful to render the background before the rectangles so that they're not overriden by the background's pixels.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Anyway, let's see what we're getting:</p><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/3vFEWx7.gif" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Uh. What an ugly flickering we have now.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Okay. Well, the issue we have here is pretty simple.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> function basically draws the pixel on the window directly, and the person who's looking at the window
will see the change instantly. That's bad here because what we actually want to do is waiting for the whole background to be drawn,
as well as the rectangles, and <i class="italic" italic="true">then</i> push that on the window. Because everything is done without any delay, this is giving us this
dirty flickering effect.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Furthermore, note that this technique is slow. Maybe it is not noticable on your machine, but that's really slow, trust me.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Therefore, we need a solution to these two problems. Well, don't worry, the minilibx provides us a solution. That's a little bit more complicated
than pushing a simple pixel on the window, but that's worth it!</p><div class="group mt-3 flex items-center gap-x-4"><h2 class="text-white text-opacity-95 pt-12 -mt-12 text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 " id="Using-minilibx-images-to-draw-on-the-screen">Using minilibx images to draw on the screen</h2><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Using-minilibx-images-to-draw-on-the-screen"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">One of the prefered way of drawing things on a window is to use images. The goal is to create an image
(which is nothing else than a collection of pixels) and edit its pixels directly. When it is done, we will push
that image on the window and we should have our graphics properly rendered without any flickering issue.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Well, images is a big and complex topic, so we won't dive into too much details about how it is implemented by the minilibx.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">However, it is interesting to notice that the minilibx is making use of the Xshm extension, which allows our program to share images
with the X Server through shared memory (<code class="text-base text-orange-400 bg-01dp px-2" code="true">/dev/shm</code>) and not through the socket like it is the case when using any <code class="text-base text-orange-400 bg-01dp px-2" code="true">Xlib</code> routine.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Remember how we were continously calling <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> to put our pixels on the window. With images shared in memory, we'll be able to
change the pixels directly, using a pointer. To be clear, this is way faster, and that's why we want to use it!</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Hopefully, the minilibx provides us a really simple way of dealing with images.</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Creating-an-image">Creating an image</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Creating-an-image"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The first step is obviously to tell the minilibx we want to create a new image. For that, we need to call <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_new_image</code>:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span class="token" style="color:#ffc66d">mlx_new_image</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">void</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>mlx_ptr</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#cc7832">int</span><span> width</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#cc7832">int</span><span> height</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Well, I think there's nothing really complicated with that prototype. We're going to use the dimensions of the window for
our image, because the image is supposed to hold the window's pixels.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The first thing we need to do is to create a <code class="text-base text-orange-400 bg-01dp px-2" code="true">t_img</code> type that will hold all the stuff we need to work
with an mlx image.</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">typedef</span><span> </span><span class="token" style="color:#cc7832">struct</span><span> </span><span class="token class-name">s_img</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span>mlx_img</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">char</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span>addr</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>		bpp</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">/* bits per pixel */</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>		line_len</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>		endian</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>	t_img</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_img</code> member refers to the address <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_new_image</code> returns.
The remaining members are needed, we're going to look at it in a minute. For now, let's create our image.
In order to do that, we need to have a place to store it.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">This is how our <code class="text-base text-orange-400 bg-01dp px-2" code="true">t_data</code> object looks like now:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">typedef</span><span> </span><span class="token" style="color:#cc7832">struct</span><span> </span><span class="token class-name">s_data</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span>mlx_ptr</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span>win_ptr</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	t_img	img</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>	t_data</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Let's actually create the image:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>data</span><span class="token" style="color:#a9b7c6">.</span><span>img</span><span class="token" style="color:#a9b7c6">.</span><span>mlx_img </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">mlx_new_image</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">.</span><span>mlx_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> WINDOW_WIDTH</span><span class="token" style="color:#a9b7c6">,</span><span> WINDOW_HEIGHT</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now that we've the image, we need to get a bunch of informations about it in order
to make the whole thing work.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We'll especially need the address of the image in the shared memory, so that we are
able to change the pixels of it directly. We'll also need additional informations
to help us with some calculations (<code class="text-base text-orange-400 bg-01dp px-2" code="true">bpp</code>, <code class="text-base text-orange-400 bg-01dp px-2" code="true">line_len</code> and <code class="text-base text-orange-400 bg-01dp px-2" code="true">endian</code> member variables).</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">To get these informations the minilibx way, we can use the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_get_data_addr</code> function.</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">char</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span class="token" style="color:#ffc66d">mlx_get_data_addr</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">void</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>img_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>bits_per_pixel</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>size_line</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span>endian</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We need to pass it the img we've got from <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_new_image</code>. For the three last arguments,
we simply need to pass the address of an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> variable. The function will set these
integers to the correct value. You can see that as a way to "return" multiple values.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Talking about return value, the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_get_data_addr</code> function returns the actual address of
the image as a simple array of pixels. We're getting a pointer on <code class="text-base text-orange-400 bg-01dp px-2" code="true">char</code>, which usually means
we're going to naviguate in the array one byte at a time (not one pixel at a time, a pixel usually
takes more than one byte as we've seen before).</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Accessing-one-particular-pixel-of-the-image">Accessing one particular pixel of the image</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Accessing-one-particular-pixel-of-the-image"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Well, here is the most "complicated" part. To be honest, what is complicated here is to understand
what is done, not really the code itself.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We need to retrieve a pixel at some x and y coordinates, but we don't have a two dimensional array here: we're dealing
with a one dimensional array. Also remember that we're dealing with bytes here, but one pixel takes more than
one byte because we're using the true colors standard. This amount is given by the <code class="text-base text-orange-400 bg-01dp px-2" code="true">bpp</code> (in bits) value we've got from
<code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_get_data_addr</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">However, we don't really know how many bytes an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> is, so we can't really perform a cast on the pointer safely.</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Finding-the-pixels-first-bytes-address">Finding the pixel's first byte's address</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Finding-the-pixels-first-bytes-address"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">For this example, let's assume we want to get the pixel at coordinates (5, 10). What we want is the <b class="font-medium" bold="true">5th</b> pixel of the <b class="font-medium" bold="true">10th row</b>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Window/image dimensions are <code class="text-base text-orange-400 bg-01dp px-2" code="true">600x300</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">To begin with, let's find the correct row. The previous <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_get_data_addr</code> call provided us the <code class="text-base text-orange-400 bg-01dp px-2" code="true">line_len</code> value, which is basically
the <b class="font-medium" bold="true">amount of bytes taken by one row of our image</b>. It is equivalent to <code class="text-base text-orange-400 bg-01dp px-2" code="true">image_width * (bpp / 8)</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In our case, an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> is four bytes, so it is <code class="text-base text-orange-400 bg-01dp px-2" code="true">600 * 4 = 2400</code>. Therefore we can say that the first row begins at the index <code class="text-base text-orange-400 bg-01dp px-2" code="true">0</code>,
the second one at the index <code class="text-base text-orange-400 bg-01dp px-2" code="true">2400</code>, the third one at the index <code class="text-base text-orange-400 bg-01dp px-2" code="true">4800</code>, and so on. Thus we can find the correct row index by doing
<code class="text-base text-orange-400 bg-01dp px-2" code="true">2400 * 10</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">To find the correct column, we will need to move in the row by the given number of pixels. In our case, we want to move
5 pixels "right". To do that, we need to multiply <code class="text-base text-orange-400 bg-01dp px-2" code="true">5</code> by the number of bytes a pixel actually takes (here <code class="text-base text-orange-400 bg-01dp px-2" code="true">4</code>). Thus we will
do <code class="text-base text-orange-400 bg-01dp px-2" code="true">5 * 4 = 20</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">If we summarize, we can find the correct index with the following computation: <code class="text-base text-orange-400 bg-01dp px-2" code="true">index = 2400 * 10 + 5 * 4</code>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">That's it! We just need to generalize the formula using the values <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_get_data_addr</code> provided us. The following
formula is the one we'll use:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-plain text-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-plain text" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>index = line_len * y + x * (bpp / 8)
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now that we have the formula, let's implement the <code class="text-base text-orange-400 bg-01dp px-2" code="true">img_pix_put</code> function that will put a pixel at (x, y) coordinates of
the image. It will act as a replacement for the <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_pixel_put</code> function.</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:auto"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#ffc66d">img_pix_put</span><span class="token" style="color:#a9b7c6">(</span><span>t_img </span><span class="token" style="color:#a9b7c6">*</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> x</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> y</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">char</span><span>    </span><span class="token" style="color:#a9b7c6">*</span><span>pixel</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>    pixel </span><span class="token" style="color:#a9b7c6">=</span><span> img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>addr </span><span class="token" style="color:#a9b7c6">+</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>y </span><span class="token" style="color:#a9b7c6">*</span><span> img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>line_len </span><span class="token" style="color:#a9b7c6">+</span><span> x </span><span class="token" style="color:#a9b7c6">*</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>bpp </span><span class="token" style="color:#a9b7c6">/</span><span> </span><span class="token" style="color:#6897bb">8</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#a9b7c6">*</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span class="token" style="color:#a9b7c6">)</span><span>pixel </span><span class="token" style="color:#a9b7c6">=</span><span> color</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span>
</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">That should work, but we've a problem here. If our bytes per pixel value is not equal to
the size of an <code class="text-base text-orange-400 bg-01dp px-2" code="true">int</code> on our system, we're not doing well. In most scenarios, they will be equal,
and the above implementation will just work, but that's not really the most portable thing in the world.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">I've came with what is (in my opinion) a more accurate way of doing it, taking the endianness in account.</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Optional-Alternative-implementation-of-img_pix_put">(Optional) Alternative implementation of img_pix_put</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Optional-Alternative-implementation-of-img_pix_put"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#ffc66d">img_pix_put</span><span class="token" style="color:#a9b7c6">(</span><span>t_img </span><span class="token" style="color:#a9b7c6">*</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> x</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> y</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">char</span><span>    </span><span class="token" style="color:#a9b7c6">*</span><span>pixel</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>		i</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	i </span><span class="token" style="color:#a9b7c6">=</span><span> img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>bpp </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">8</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>    pixel </span><span class="token" style="color:#a9b7c6">=</span><span> img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>addr </span><span class="token" style="color:#a9b7c6">+</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>y </span><span class="token" style="color:#a9b7c6">*</span><span> img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>line_len </span><span class="token" style="color:#a9b7c6">+</span><span> x </span><span class="token" style="color:#a9b7c6">*</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>img</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>bpp </span><span class="token" style="color:#a9b7c6">/</span><span> </span><span class="token" style="color:#6897bb">8</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>i </span><span class="token" style="color:#a9b7c6">&gt;=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>	</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>		</span><span class="token" style="color:#808080">/* big endian, MSB is the leftmost bit */</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">In this implementation each byte is set manually in a different way, depending on the endianness. If you
don't know what the endianness is, I recommend you read <a target="_blank" rel="noreferrer" class="text-orange-400 hover:underline hover:underline-offset-4" href="https://www.freecodecamp.org/news/what-is-endianness-big-endian-vs-little-endian/">that</a>.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Moreover, in this implementation, only the number of bytes specified by <code class="text-base text-orange-400 bg-01dp px-2" code="true">bpp</code> is set. I'm not going to explain the bitwise operations in details, as
this is out of the scope of this post. However, I think and hope showing you this alternative was interesting.</p><div class="group mt-3 flex items-center gap-x-4"><h3 class="text-white text-opacity-95 pt-12 -mt-12 text-2xl mt-2 font-semibold" id="Lets-draw-on-the-screen">Let's draw on the screen</h3><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-draw-on-the-screen"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Drawing-functions-refactoring">Drawing functions refactoring</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawing-functions-refactoring"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">What we need to do now is to change every drawing function to make it use the <code class="text-base text-orange-400 bg-01dp px-2" code="true">t_img</code> object instead of the window directly.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Let's refactor the <code class="text-base text-orange-400 bg-01dp px-2" code="true">render_rect</code> function:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span>t_img </span><span class="token" style="color:#a9b7c6">*</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> t_rect rect</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	i</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span> j</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	i </span><span class="token" style="color:#a9b7c6">=</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>y</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>i </span><span class="token" style="color:#a9b7c6">&lt;</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>y </span><span class="token" style="color:#a9b7c6">+</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>height</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>	</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>		j </span><span class="token" style="color:#a9b7c6">=</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>x</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>		</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>j </span><span class="token" style="color:#a9b7c6">&lt;</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>x </span><span class="token" style="color:#a9b7c6">+</span><span> rect</span><span class="token" style="color:#a9b7c6">.</span><span>width</span><span class="token" style="color:#a9b7c6">)</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">As well as <code class="text-base text-orange-400 bg-01dp px-2" code="true">render_background</code>:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">void</span><span>	</span><span class="token" style="color:#ffc66d">render_background</span><span class="token" style="color:#a9b7c6">(</span><span>t_img </span><span class="token" style="color:#a9b7c6">*</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#cc7832">int</span><span> color</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	i</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">int</span><span>	j</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	i </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>i </span><span class="token" style="color:#a9b7c6">&lt;</span><span> WINDOW_HEIGHT</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>	</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>		j </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>		</span><span class="token" style="color:#cc7832">while</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>j </span><span class="token" style="color:#a9b7c6">&lt;</span><span> WINDOW_WIDTH</span><span class="token" style="color:#a9b7c6">)</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">As you can see, the refactor is pretty easy to do, nothing complicated here.</p><div class="group mt-3 flex items-center gap-x-4"><h4 class="text-white text-opacity-95 pt-12 -mt-12 text-xl mt-2 font-medium" id="Changing-the-render-function">Changing the render function</h4><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Changing-the-render-function"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">The most important change we need to do is in the <code class="text-base text-orange-400 bg-01dp px-2" code="true">render</code> function:</p><div class="relative my-6 self-start border border-white/10 bg-01dp"><div class="absolute bottom-0 left-0 right-0 flex h-[15%] items-center justify-center bg-dark/95 text-center text-2xl text-white"><button class="opacity-80 transition-all hover:opacity-100">See more</button></div><div class="sticky top-12 flex items-center justify-between border-b border-white/10 bg-02dp px-3 text-white/90"><span class="flex items-center gap-x-2"> <i class="devicon-c-plain ml-1 text-xl"></i></span><span class="flex items-center"><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg></button><button class="rounded-sm p-2 text-white/80 transition-all active:text-white/100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></button></span></div><pre style="font-size:.9em;background-color:inherit;padding:.75em 1em;overflow-x:hidden"><code class="language-c" style="color:#a9b7c6;font-family:Consolas, Monaco, &#39;Andale Mono&#39;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">int</span><span>	</span><span class="token" style="color:#ffc66d">render</span><span class="token" style="color:#a9b7c6">(</span><span>t_data </span><span class="token" style="color:#a9b7c6">*</span><span>data</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>	</span><span class="token" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>win_ptr </span><span class="token" style="color:#a9b7c6">==</span><span> </span><span class="token" style="color:#9876aa">NULL</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>		</span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_background</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">&amp;</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> WHITE_PIXEL</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">&amp;</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>WINDOW_WIDTH </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> WINDOW_HEIGHT </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>		</span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">,</span><span> GREEN_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>	</span><span class="token" style="color:#ffc66d">render_rect</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">&amp;</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>t_rect</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">500</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">300</span><span class="token" style="color:#a9b7c6">,</span><span> RED_PIXEL</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>	</span><span class="token" style="color:#ffc66d">mlx_put_image_to_window</span><span class="token" style="color:#a9b7c6">(</span><span>data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>mlx_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>win_ptr</span><span class="token" style="color:#a9b7c6">,</span><span> data</span><span class="token" style="color:#a9b7c6">-&gt;</span><span>img</span><span class="token" style="color:#a9b7c6">.</span><span>mlx_img</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span></code></pre></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now we're performing all our drawing operations on our image instead of directly pushing the pixels
on the screen.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">We then need to push the updated image on the window, which is done using <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_put_image_to_window</code>. Coordinates
of the image are (0, 0) because it is covering the whole window. The <code class="text-base text-orange-400 bg-01dp px-2" code="true">mlx_put_image_to_window</code> will push the image
as well as the changes done to it (if any) at each frame.</p><button class="mx-auto block transition-all hover:opacity-80"><img alt="photo" src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/Untitled(4).png" class="mx-auto my-8 h-full max-h-[25em] rounded-sm border border-01dp object-cover shadow-md"></button><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">See what we have now ? Awesome!</p><div class="group mt-3 flex items-center gap-x-4"><h2 class="text-white text-opacity-95 pt-12 -mt-12 text-3xl mt-2 font-bold border-orange-400 pb-1 border-b-2 " id="Congratulations">Congratulations</h2><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Congratulations"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-orange-400 opacity-0 transition-all group-hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></a></div><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">If you are reading this, congratulations! It was a really long post, but I found necessary to explain
how the things really work.</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">Now you're mastering the basics of the minilibx, you can do almost what you want with it without compromising efficiency!</p><p class="my-4 break-words text-base text-white text-opacity-90 lg:text-lg">You can find the final code <a target="_blank" rel="noreferrer" class="text-orange-400 hover:underline hover:underline-offset-4" href="https://github.com/aurelien-brabant/minilibx-posts-code">here</a>.</p></div></div><div class="sticky top-16 hidden xl:block"><aside class="flex max-h-[90vh] flex-col gap-y-4 gap-x-2 self-start overflow-x-auto text-base text-white/90"><div class="flex items-center gap-x-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Wanderer-beware" class="text-white/85 transition-all hover:text-white">Wanderer, beware!</a></div><div class="flex items-center gap-x-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Screen-metrics" class="text-white/85 transition-all hover:text-white">Screen metrics</a></div><div class="flex items-center gap-x-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawing-pixels-on-the-window-using-mlx_pixel_put" class="text-white/85 transition-all hover:text-white">Drawing pixels on the window using mlx_pixel_put</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Encoding-a-color-according-to-the-True-Color-standard" class="text-white/85 transition-all hover:text-white">Encoding a color, according to the True Color standard</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Settings-the-bits-directly" class="text-white/85 transition-all hover:text-white">Settings the bits directly</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Using-the-hexadecimal-notation" class="text-white/85 transition-all hover:text-white">Using the hexadecimal notation</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all border-orange-400 bg-orange-400"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-put-the-pixel-" class="text-white/85 transition-all hover:text-white">Let's put the pixel !</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#A-small-check-to-be-safe" class="text-white/85 transition-all hover:text-white">A small check to be safe</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-draw-a-rectangle-" class="text-white/85 transition-all hover:text-white">Let's draw a rectangle !</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawbacks-of-our-approach" class="text-white/85 transition-all hover:text-white">Drawbacks of our approach</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-find-out-what-the-problem-is" class="text-white/85 transition-all hover:text-white">Let's find out what the problem is</a></div><div class="flex items-center gap-x-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Using-minilibx-images-to-draw-on-the-screen" class="text-white/85 transition-all hover:text-white">Using minilibx images to draw on the screen</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Creating-an-image" class="text-white/85 transition-all hover:text-white">Creating an image</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Accessing-one-particular-pixel-of-the-image" class="text-white/85 transition-all hover:text-white">Accessing one particular pixel of the image</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Finding-the-pixels-first-bytes-address" class="text-white/85 transition-all hover:text-white">Finding the pixel's first byte's address</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Optional-Alternative-implementation-of-img_pix_put" class="text-white/85 transition-all hover:text-white">(Optional) Alternative implementation of img_pix_put</a></div><div class="flex items-center gap-x-4 ml-2"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Lets-draw-on-the-screen" class="text-white/85 transition-all hover:text-white">Let's draw on the screen</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Drawing-functions-refactoring" class="text-white/85 transition-all hover:text-white">Drawing functions refactoring</a></div><div class="flex items-center gap-x-4 ml-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Changing-the-render-function" class="text-white/85 transition-all hover:text-white">Changing the render function</a></div><div class="flex items-center gap-x-4"><span class="h-4 w-4 flex-shrink-0 rounded-full border-2 border-02dp bg-dark transition-all"></span><a href="https://aurelienbrabant.fr/blog/pixel-drawing-with-the-minilibx#Congratulations" class="text-white/85 transition-all hover:text-white">Congratulations</a></div></aside></div></section></main></div></div><footer class="bg-dark" aria-labelledby="footer-heading"><h2 id="footer-heading" class="sr-only">Footer</h2><div class="mx-auto max-w-7xl py-12 px-4 sm:px-6 lg:py-16 lg:px-8"><div class="pb-8 xl:grid xl:grid-cols-5 xl:gap-8"><div class="grid grid-cols-2 gap-8 xl:col-span-4"><div class="md:grid md:grid-cols-2 md:gap-8"><div><h3 class="text-sm font-semibold uppercase tracking-wider text-white">Solutions</h3><ul role="list" class="mt-4 space-y-4"><li><a href="https://aurelienbrabant.fr/#solutions" class="text-base text-white text-opacity-80 hover:text-opacity-90">Front-end Development</a></li><li><a href="https://aurelienbrabant.fr/#solutions" class="text-base text-white text-opacity-80 hover:text-opacity-90">Backend Development</a></li><li><a href="https://aurelienbrabant.fr/#solutions" class="text-base text-white text-opacity-80 hover:text-opacity-90">Web 3.0</a></li><li><a href="https://aurelienbrabant.fr/#solutions" class="text-base text-white text-opacity-80 hover:text-opacity-90">Containerization</a></li><li><a href="https://aurelienbrabant.fr/#solutions" class="text-base text-white text-opacity-80 hover:text-opacity-90">Search Engine Optimization Boost</a></li></ul></div><div class="mt-12 md:mt-0"><h3 class="text-sm font-semibold uppercase tracking-wider text-white">Contact</h3><ul role="list" class="mt-4 space-y-4"><li><a href="mailto:contact@aurelienbrabant.fr" class="text-base text-white text-opacity-80 hover:text-opacity-90">Email</a></li><li><a href="https://www.malt.fr/profile/aurelienbrabant" class="text-base text-white text-opacity-80 hover:text-opacity-90">Malt</a></li><li><a href="https://www.linkedin.com/in/aurelien-brabant" class="text-base text-white text-opacity-80 hover:text-opacity-90">LinkedIn</a></li><li><a href="https://github.com/aurelien-brabant" class="text-base text-white text-opacity-80 hover:text-opacity-90">GitHub</a></li></ul></div></div><div class="md:grid md:grid-cols-2 md:gap-8"></div></div><div class="mt-12 xl:mt-0"><h3 class="text-sm font-semibold uppercase tracking-wider text-white">Language</h3><form class="mt-4 sm:max-w-xs"><fieldset class="w-full"><label for="language" class="sr-only">Language</label><div class="relative"><select id="language" name="language" class="block w-full appearance-none rounded-md border border-gray-300 bg-dark bg-none py-2 pl-3 pr-10 text-base text-white text-opacity-80 focus:border-orange-500 focus:outline-none focus:ring-orange-500 sm:text-sm"><option selected="" value="en">English</option></select><div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="h-4 w-4 text-gray-400"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></div></fieldset></form></div></div><div class="mt-8 border-t border-gray-200 pt-8 md:flex md:items-center md:justify-between"><div class="flex space-x-6 md:order-2"><a href="mailto:contact@aurelienbrabant.fr" class="text-white text-opacity-80 transition-all hover:text-opacity-90"><span class="sr-only">Email</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-[22px] w-[22px]"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></a><a target="_blank" rel="noreferrer" href="https://www.malt.fr/profile/aurelienbrabant" class="text-white text-opacity-80 transition-all hover:text-opacity-90"><span class="sr-only">Malt</span><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="22" height="22" viewBox="0 0 186.795 186.795" class="h-6 w-6" aria-hidden="true"><path d="M159.852 26.953c-14.1-14.1-29.162-4.974-38.588 4.452L32.22 120.452c-9.426 9.425-19.292 23.746-4.452 38.584 14.84 14.843 29.161 4.975 38.585-4.451l89.046-89.045c9.426-9.427 18.552-24.489 4.453-38.587zM74.78 23.306L93.635 42.16l19.192-19.192a69.875 69.875 0 013.957-3.661C114.774 9.167 108.988 0 93.626 0c-15.391 0-21.17 9.203-23.169 19.365 1.437 1.243 2.871 2.489 4.323 3.941zM112.816 163.359l-19.18-19.181-18.845 18.843a81.041 81.041 0 01-4.273 3.969c2.161 10.337 8.277 19.805 23.11 19.805 14.872 0 20.98-9.519 23.127-19.889-1.319-1.135-2.639-2.248-3.939-3.547zM66.783 69.013h-36.35C17.105 69.013 0 73.212 0 93.15c0 14.877 9.522 20.986 19.894 23.132 1.228-1.418 46.889-47.269 46.889-47.269zM167.435 69.981c-1.15 1.338-46.907 47.305-46.907 47.305h35.834c13.329 0 30.433-3.149 30.433-24.136 0-15.389-9.2-21.171-19.36-23.169zM78.693 57.081l6.494-6.494-18.843-18.846c-9.427-9.425-23.746-19.292-38.586-4.452-10.882 10.882-8.465 21.473-2.693 30.071 1.758-.13 53.628-.279 53.628-.279zM108.571 129.218l-6.511 6.511 19.194 19.192c9.426 9.427 24.488 18.551 38.586 4.453 10.52-10.521 8.106-21.571 2.29-30.423-1.872.135-53.559.267-53.559.267z"></path></svg></a><a target="_blank" rel="noreferrer" href="https://www.linkedin.com/in/aurelien-brabant" class="text-white text-opacity-80 transition-all hover:text-opacity-90"><span class="sr-only">LinkedIn</span><svg viewBox="0 0 128 128" fill="currentColor" class="h-6 w-6" aria-hidden="true"><path d="M21.06 48.73h18.11V107H21.06zm9.06-29a10.5 10.5 0 11-10.5 10.49 10.5 10.5 0 0110.5-10.49M50.53 48.73h17.36v8h.24c2.42-4.58 8.32-9.41 17.13-9.41C103.6 47.28 107 59.35 107 75v32H88.89V78.65c0-6.75-.12-15.44-9.41-15.44s-10.87 7.36-10.87 15V107H50.53z"></path></svg></a><a target="_blank" rel="noreferrer" href="https://github.com/aurelien-brabant" class="text-white text-opacity-80 transition-all hover:text-opacity-90"><span class="sr-only">GitHub</span><svg fill="currentColor" viewBox="0 0 24 24" class="h-6 w-6" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div><p class="mt-8 text-base text-white text-opacity-80 md:order-1 md:mt-0">© <!-- -->2023<!-- --> Aurélien Brabant. All rights reserved.</p></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Pixel drawing with the miniblix","slug":"pixel-drawing-with-the-minilibx","tags":[{"name":"C","color":"default"},{"name":"Graphics Programming","color":"yellow"},{"name":"school 42","color":"green"}],"description":"All you need to know about drawing pixels with the minilibx","pageId":"0b1a2d31-e698-4330-a069-88aa4952cbe8","coverUrl":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4782d9b0-bdbc-4920-9c8d-603d98d047f1/pixel-drawing-with-the-minilibx.webp?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150548Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=55363575e32ca3d2c77a2618a17018fc28a069211ffffc12b59a78a89b225bba\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","createdTime":"2022-04-06T17:59:00.000Z","lastEditedTime":"2022-05-29T12:19:00.000Z","metatags":[],"blocks":[{"type":"heading","level":1,"content":"Wanderer, beware!","slug":"Wanderer-beware"},{"type":"paragraph","richText":[{"content":"Hey! If this post is the first you're reading from me about the minilibx, ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"you'd better check out the first\npost","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":"https://aurelienbrabant.fr/blog/getting-started-with-the-minilibx"},{"content":", which explains all the basics you need to know.\nThat said, let's discuss how we are going to handle events using the minilibx!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":1,"content":"Screen metrics","slug":"Screen-metrics"},{"type":"paragraph","richText":[{"content":"Before we actually start, I'd want to make sure we are all on the same page.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"A computer screen is basically a 2D object that has ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"x","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" and ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"y","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" coordinates. By convention, it is considered that the top left corner\nof the screen is the origin (x = 0, y = 0).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Let's consider a common screen resolution, that is ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"1920x1080","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"In this case, that means that there's 1080 rows of pixels on the screen, and that each row has 1920 pixels. The y axis is used to represent\nthe row number, while the x axis is used to represent the column number.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"As an exemple, let's say we want to draw a line that has the following endpoints: P1(0, 100) and P2(1920, 100).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"The following is what is going to be rendered on the window:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"image","url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/c24e0a86-cebe-44ef-8773-b48da7350682/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150550Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=fd60b7f1f1cb38ffaf9860c57d138b08f4f8dda94e542a6c6172454b4894a216\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiryTime":"2023-02-28T16:05:50.907Z"},{"type":"paragraph","richText":[{"content":"What we get is an horizontal line taking all the width of the screen (we went from x=0 to x=1920), with a top margin of 100 pixels (the two points have\nthe same y coordinate, 100, therefore the line is drawn on the 100th row).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Now that we've the basics in mind, let's move on!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":1,"content":"Drawing pixels on the window using mlx_pixel_put","slug":"Drawing-pixels-on-the-window-using-mlx_pixel_put"},{"type":"paragraph","richText":[{"content":"Drawing pixels is the most basic thing a graphical library is used for, and the minilibx provides us simple ways\nof doing that.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"The straightforward way is to use the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function. Let's take a look to the prototype:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int\tmlx_pixel_put(void *mlx_ptr, void *win_ptr, int x, int y, int color);\n","language":"c"},{"type":"paragraph","richText":[{"content":"We've already explained what ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_ptr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" and ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"win_ptr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" are, and the others parameters are self-explanatory. ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"x","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" and ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"y","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" are the coordinate\nof the pixel, according to the metric considerations we just discussed.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Finally, we need to tell the minilibx what is going to be the color of the pixel at this coordinates. But how are we going to represent a color ?","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Encoding a color, according to the True Color standard","slug":"Encoding-a-color-according-to-the-True-Color-standard"},{"type":"image","url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/62bd82ba-fea4-4902-a4ac-5afb819fe945/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150550Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=034d51885d88c726cc3de47a3277e7009510069d53057b301ddd4c60a116e9c6\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiryTime":"2023-02-28T16:05:50.891Z"},{"type":"paragraph","richText":[{"content":"Several ways of representing colors for computer graphics exist. The minilibx is complying to the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"true color","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":" standard.\nHere's the definition of what the true color standard is, according to ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"techopedia","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":"https://www.techopedia.com/definition/496/true-color"},{"content":":","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"With the minilibx, we need to make the color fit into an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" datatype. That means that we need the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" datatype to be 32 bits on our system.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"We need to encode our color into an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" by setting the three least significant bits to the amount of red, green and blue, respectively.\nWe can encode our ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" using two different ways:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"Settings the bits directly","slug":"Settings-the-bits-directly"},{"type":"paragraph","richText":[{"content":"We can simply set the bits of the integer directly, using the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"\u003c\u003c","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" (left shift) as shown in the function below:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int\tencode_rgb(uint8_t red, uint8_t green, uint8_t blue)\n{\n\treturn (red \u003c\u003c 16 | green \u003c\u003c 8 | blue);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"This code will simply encode the red, green, and blue values into the returned integer.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"Using the hexadecimal notation","slug":"Using-the-hexadecimal-notation"},{"type":"paragraph","richText":[{"content":"Hexadecimal is widely used when using encoded values because it allows us to clearly distiguish the bytes that form\nan integer. To do so, we need to think about an hexadecimal number as groups of two digits. One group of two digits\nrepresents an entire byte.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Be aware tho, that in hexadecimal we have a total of sixteen digits used to represent a number ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"(0123456789 ((abcdef) || (ABCDEF)))","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"For example, let's say we're assigning the value ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"0x00FF00FF","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" to an integer. Just by looking at the number, we can tell that red is FF (255), green is 0\nand blue is FF (255). Pretty easy to figure out isn't it ?","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"However, this solution is interesting ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"only if we already know what color we want to use at compile time","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":". If the color is somehow provided by the user or\nfrom any external source, we will need to use the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"encode_rgb","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Let's put the pixel !","slug":"Lets-put-the-pixel-"},{"type":"paragraph","richText":[{"content":"Now that we know how to use the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", let's put our first pixel on the window!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"#include \u003cstdlib.h\u003e\n#include \u003cstdio.h\u003e\n\n#include \u003cX11/X.h\u003e\n#include \u003cX11/keysym.h\u003e\n#include \u003cmlx.h\u003e\n\n#define WINDOW_WIDTH 600\n#define WINDOW_HEIGHT 300\n\n#define MLX_ERROR 1\n\n#define RED_PIXEL 0xFF0000\n\ntypedef struct s_data\n{\n\tvoid\t*mlx_ptr;\n\tvoid\t*win_ptr;\n}\tt_data;\n\nint\thandle_keypress(int keysym, t_data *data)\n{\n\tif (keysym == XK_Escape)\n\t{\n\t\tmlx_destroy_window(data-\u003emlx_ptr, data-\u003ewin_ptr);\n\t\tdata-\u003ewin_ptr = NULL;\n\t}\n\treturn (0);\n}\n\nint\trender(t_data *data)\n{\n\t/* if window has been destroyed, we don't want to put the pixel ! */\n\tif (data-\u003ewin_ptr != NULL)\n\t\tmlx_pixel_put(data-\u003emlx_ptr, data-\u003ewin_ptr, \n\t\t\tWINDOW_WIDTH / 2, WINDOW_HEIGHT / 2, RED_PIXEL);\n\treturn (0);\n}\n\nint\tmain(void)\n{\n\tt_data\tdata;\n\n\tdata.mlx_ptr = mlx_init();\n\tif (data.mlx_ptr == NULL)\n\t\treturn (MLX_ERROR);\n\tdata.win_ptr = mlx_new_window(data.mlx_ptr, WINDOW_WIDTH, WINDOW_HEIGHT,\n\t\t\t\t\t\t\t\t\"my window\");\n\tif (data.win_ptr == NULL)\n\t{\n\t\tfree(data.win_ptr);\n\t\treturn (MLX_ERROR);\n\t}\n\n\t/* Setup hooks */ \n\tmlx_loop_hook(data.mlx_ptr, \u0026render, \u0026data);\n\tmlx_hook(data.win_ptr, KeyPress, KeyPressMask, \u0026handle_keypress, \u0026data);\n\n\tmlx_loop(data.mlx_ptr);\n\n\t/* we will exit the loop if there's no window left, and execute this code */\n\tmlx_destroy_display(data.mlx_ptr);\n\tfree(data.mlx_ptr);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"Here, we're making use of the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function, the address of which is passed to the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_loop_hook","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function. In the previous\npost, we called this function ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"handle_no_event","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", because it is triggered continuously while the loop is running.\nBecause the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function's code needs to be run at each frame, we can use it to render all the things we want to display\non the screen!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Notice the call to ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":". We passed it two coordinates, that are the half of the window's width and height\nrespectively, which gives us the center of the window. The color is specified in the hexadecimal format, as a macro called\n","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"RED_PIXEL","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Try to run this code. You should notice a small red pixel on the center of the window. That's it, here is our first pixel!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"image","url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/3e3407ed-b881-44c3-a539-6a6419c6280c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150550Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=8238eb328fe0cdb48508b1a7bbb128bf4cce91d8820d926cdbbbfcde7979401d\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiryTime":"2023-02-28T16:05:50.900Z"},{"type":"heading","level":3,"content":"A small check to be safe","slug":"A-small-check-to-be-safe"},{"type":"paragraph","richText":[{"content":"Please notice the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"if","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" statement added before the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function. This statement is here to ensure the window still exists,\nto avoid puting a pixel on a window that is no longer available. Because of how ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_loop","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is implemented, this is what would have\nhappened if we didn't add this check. Moreover, we needed to ensure that our ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"win_ptr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" was set to ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"NULL","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" after the call to ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_destroy_window","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":"\nto make this check actually work.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Let's draw a rectangle !","slug":"Lets-draw-a-rectangle-"},{"type":"paragraph","richText":[{"content":"Now that we know how to put a pixel on the screen, implementing a function that'll put a rectangle\ninstead is pretty straightforward. Rectangles are really useful, and it is very likely that we're\ngoing to use them really much.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Here's one implementation we can use:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"#define GREEN_PIXEL 0xFF00\n\ntypedef struct s_rect\n{\n\tint\tx;\n\tint\ty;\n\tint width;\n\tint height;\n\tint color;\n}\tt_rect;\n\n/* The x and y coordinates of the rect corresponds to its upper left corner. */\n\nint render_rect(t_data *data, t_rect rect)\n{\n\tint\ti;\n\tint j;\n\n\tif (data-\u003ewin_ptr == NULL)\n\t\treturn (1);\n\ti = rect.y;\n\twhile (i \u003c rect.y + rect.height)\n\t{\n\t\tj = rect.x;\n\t\twhile (j \u003c rect.x + rect.width)\n\t\t\tmlx_pixel_put(data-\u003emlx_ptr, data-\u003ewin_ptr, j++, i, rect.color);\n\t\t++i;\n\t}\n\treturn (0);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"We will not discuss the mathematics used here, as it is really basic. For each row we\nneed to draw, we are filling the appropriated number of pixels depending on the rectangle's width.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Note that there's no check performed on the rectangle's member variables. One can implement some checks\nto ensure the values are correct, but I think that's not necessary here.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"In order for us to render the rectangles, we need to modify the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int\trender(t_data *data)\n{\n\trender_rect(data, (t_rect){WINDOW_WIDTH - 100, WINDOW_HEIGHT - 100,\n\t\t\t100, 100, GREEN_PIXEL});\n\trender_rect(data, (t_rect){0, 0, 100, 100, RED_PIXEL});\n\n\treturn (0);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"In case you're wondering, ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"(t_rect){}","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is what is called a ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"compound literal","bold":false,"italic":true,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":". Since C99, this is a way\nto initialize structures without having to manually assign each member. I'm directly passing a structure\nby value here.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"These ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render_rect","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function calls will display two rectangles: one in the upper left corner of the window (red), and the other\nin the bottom right corner (green).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"image","url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a6e78edb-d365-43c3-be26-0f1d7e3ff5d0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150550Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=377104dfedf48ec16181b08354b0e4e9dba7066c9acb27b4fc1a72ab2e2a38ef\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiryTime":"2023-02-28T16:05:50.883Z"},{"type":"heading","level":2,"content":"Drawbacks of our approach","slug":"Drawbacks-of-our-approach"},{"type":"paragraph","richText":[{"content":"Were you thinking it would be that easy ?","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"In this section, I'm going to explain why the approach of using the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is bad.\nI know, I know, that's not really nice. I just teached you something and now I'm saying it's useless!\nTrust me, what we learned together is far from being pointless. In fact, thanks to that we'll find what the problem is.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"At the moment, there's no problem when we're rendering our rectanges on the screen. Well, there's a problem, but we can't\nreally see it in a simple configuration like that.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"Let's find out what the problem is","slug":"Lets-find-out-what-the-problem-is"},{"type":"paragraph","richText":[{"content":"To visualize what is wrong, let's implement a ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render_background","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function that will change the background color of\nthe window:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"void\trender_background(t_data *data, int color)\n{\n\tint\ti;\n\tint\tj;\n\n\tif (data-\u003ewin_ptr == NULL)\n\t\treturn ;\n\ti = 0;\n\twhile (i \u003c WINDOW_HEIGHT)\n\t{\n\t\tj = 0;\n\t\twhile (j \u003c WINDOW_WIDTH)\n\t\t\tmlx_pixel_put(data-\u003emlx_ptr, data-\u003ewin_ptr, j++, i, color);\n\t\t++i;\n\t}\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"This function will set all the pixels of the window to the same color.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Now let's add it to our ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int\trender(t_data *data)\n{\n\trender_background(data, WHITE_PIXEL);\n\trender_rect(data, (t_rect){WINDOW_WIDTH - 100, WINDOW_HEIGHT - 100, 100, 100, GREEN_PIXEL});\n\trender_rect(data, (t_rect){0, 0, 100, 100, RED_PIXEL});\n\n\treturn (0);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"Be careful to render the background before the rectangles so that they're not overriden by the background's pixels.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Anyway, let's see what we're getting:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"image","url":"https://i.imgur.com/3vFEWx7.gif"},{"type":"paragraph","richText":[{"content":"Uh. What an ugly flickering we have now.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Okay. Well, the issue we have here is pretty simple.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"The ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function basically draws the pixel on the window directly, and the person who's looking at the window\nwill see the change instantly. That's bad here because what we actually want to do is waiting for the whole background to be drawn,\nas well as the rectangles, and ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"then","bold":false,"italic":true,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":" push that on the window. Because everything is done without any delay, this is giving us this\ndirty flickering effect.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Furthermore, note that this technique is slow. Maybe it is not noticable on your machine, but that's really slow, trust me.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Therefore, we need a solution to these two problems. Well, don't worry, the minilibx provides us a solution. That's a little bit more complicated\nthan pushing a simple pixel on the window, but that's worth it!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":1,"content":"Using minilibx images to draw on the screen","slug":"Using-minilibx-images-to-draw-on-the-screen"},{"type":"paragraph","richText":[{"content":"One of the prefered way of drawing things on a window is to use images. The goal is to create an image\n(which is nothing else than a collection of pixels) and edit its pixels directly. When it is done, we will push\nthat image on the window and we should have our graphics properly rendered without any flickering issue.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Well, images is a big and complex topic, so we won't dive into too much details about how it is implemented by the minilibx.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"However, it is interesting to notice that the minilibx is making use of the Xshm extension, which allows our program to share images\nwith the X Server through shared memory (","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"/dev/shm","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":") and not through the socket like it is the case when using any ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"Xlib","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" routine.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Remember how we were continously calling ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" to put our pixels on the window. With images shared in memory, we'll be able to\nchange the pixels directly, using a pointer. To be clear, this is way faster, and that's why we want to use it!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Hopefully, the minilibx provides us a really simple way of dealing with images.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Creating an image","slug":"Creating-an-image"},{"type":"paragraph","richText":[{"content":"The first step is obviously to tell the minilibx we want to create a new image. For that, we need to call ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_new_image","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":":","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"void\t*mlx_new_image(void *mlx_ptr,int width,int height);\n","language":"c"},{"type":"paragraph","richText":[{"content":"Well, I think there's nothing really complicated with that prototype. We're going to use the dimensions of the window for\nour image, because the image is supposed to hold the window's pixels.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"The first thing we need to do is to create a ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"t_img","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" type that will hold all the stuff we need to work\nwith an mlx image.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"typedef struct s_img\n{\n\tvoid\t*mlx_img;\n\tchar\t*addr;\n\tint\t\tbpp; /* bits per pixel */\n\tint\t\tline_len;\n\tint\t\tendian;\n}\tt_img;\n","language":"c"},{"type":"paragraph","richText":[{"content":"The ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_img","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" member refers to the address ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_new_image","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" returns.\nThe remaining members are needed, we're going to look at it in a minute. For now, let's create our image.\nIn order to do that, we need to have a place to store it.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"This is how our ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"t_data","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" object looks like now:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"typedef struct s_data\n{\n\tvoid\t*mlx_ptr;\n\tvoid\t*win_ptr;\n\tt_img\timg;\n}\tt_data;\n","language":"c"},{"type":"paragraph","richText":[{"content":"Let's actually create the image:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"data.img.mlx_img = mlx_new_image(data.mlx_ptr, WINDOW_WIDTH, WINDOW_HEIGHT);\n","language":"c"},{"type":"paragraph","richText":[{"content":"Now that we've the image, we need to get a bunch of informations about it in order\nto make the whole thing work.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"We'll especially need the address of the image in the shared memory, so that we are\nable to change the pixels of it directly. We'll also need additional informations\nto help us with some calculations (","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"bpp","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"line_len","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" and ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"endian","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" member variables).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"To get these informations the minilibx way, we can use the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_get_data_addr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"char\t*mlx_get_data_addr(void *img_ptr, int *bits_per_pixel, int *size_line, int *endian);\n","language":"c"},{"type":"paragraph","richText":[{"content":"We need to pass it the img we've got from ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_new_image","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":". For the three last arguments,\nwe simply need to pass the address of an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" variable. The function will set these\nintegers to the correct value. You can see that as a way to \"return\" multiple values.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Talking about return value, the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_get_data_addr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function returns the actual address of\nthe image as a simple array of pixels. We're getting a pointer on ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"char","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", which usually means\nwe're going to naviguate in the array one byte at a time (not one pixel at a time, a pixel usually\ntakes more than one byte as we've seen before).","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Accessing one particular pixel of the image","slug":"Accessing-one-particular-pixel-of-the-image"},{"type":"paragraph","richText":[{"content":"Well, here is the most \"complicated\" part. To be honest, what is complicated here is to understand\nwhat is done, not really the code itself.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"We need to retrieve a pixel at some x and y coordinates, but we don't have a two dimensional array here: we're dealing\nwith a one dimensional array. Also remember that we're dealing with bytes here, but one pixel takes more than\none byte because we're using the true colors standard. This amount is given by the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"bpp","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" (in bits) value we've got from\n","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_get_data_addr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"However, we don't really know how many bytes an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is, so we can't really perform a cast on the pointer safely.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"Finding the pixel's first byte's address","slug":"Finding-the-pixels-first-bytes-address"},{"type":"paragraph","richText":[{"content":"For this example, let's assume we want to get the pixel at coordinates (5, 10). What we want is the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"5th","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":" pixel of the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"10th row","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Window/image dimensions are ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"600x300","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"To begin with, let's find the correct row. The previous ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_get_data_addr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" call provided us the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"line_len","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" value, which is basically\nthe ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"amount of bytes taken by one row of our image","bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":". It is equivalent to ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"image_width * (bpp / 8)","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"In our case, an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is four bytes, so it is ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"600 * 4 = 2400","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":". Therefore we can say that the first row begins at the index ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"0","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":",\nthe second one at the index ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"2400","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", the third one at the index ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"4800","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":", and so on. Thus we can find the correct row index by doing\n","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"2400 * 10","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"To find the correct column, we will need to move in the row by the given number of pixels. In our case, we want to move\n5 pixels \"right\". To do that, we need to multiply ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"5","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" by the number of bytes a pixel actually takes (here ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"4","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":"). Thus we will\ndo ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"5 * 4 = 20","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"If we summarize, we can find the correct index with the following computation: ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"index = 2400 * 10 + 5 * 4","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"That's it! We just need to generalize the formula using the values ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_get_data_addr","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" provided us. The following\nformula is the one we'll use:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"index = line_len * y + x * (bpp / 8)\n","language":"plain text"},{"type":"paragraph","richText":[{"content":"Now that we have the formula, let's implement the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"img_pix_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function that will put a pixel at (x, y) coordinates of\nthe image. It will act as a replacement for the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_pixel_put","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"void\timg_pix_put(t_img *img, int x, int y, int color)\n{\n\tchar    *pixel;\n\n    pixel = img-\u003eaddr + (y * img-\u003eline_len + x * (img-\u003ebpp / 8));\n\t*(int *)pixel = color;\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"That should work, but we've a problem here. If our bytes per pixel value is not equal to\nthe size of an ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"int","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" on our system, we're not doing well. In most scenarios, they will be equal,\nand the above implementation will just work, but that's not really the most portable thing in the world.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"I've came with what is (in my opinion) a more accurate way of doing it, taking the endianness in account.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"(Optional) Alternative implementation of img_pix_put","slug":"Optional-Alternative-implementation-of-img_pix_put"},{"type":"codeblock","code":"void\timg_pix_put(t_img *img, int x, int y, int color)\n{\n\tchar    *pixel;\n\tint\t\ti;\n\n\ti = img-\u003ebpp - 8;\n    pixel = img-\u003eaddr + (y * img-\u003eline_len + x * (img-\u003ebpp / 8));\n\twhile (i \u003e= 0)\n\t{\n\t\t/* big endian, MSB is the leftmost bit */\n\t\tif (img-\u003eendian != 0)\n\t\t\t*pixel++ = (color \u003e\u003e i) \u0026 0xFF;\n\t\t/* little endian, LSB is the leftmost bit */\n\t\telse\n\t\t\t*pixel++ = (color \u003e\u003e (img-\u003ebpp - 8 - i)) \u0026 0xFF;\n\t\ti -= 8;\n\t}\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"In this implementation each byte is set manually in a different way, depending on the endianness. If you\ndon't know what the endianness is, I recommend you read ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"that","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":"https://www.freecodecamp.org/news/what-is-endianness-big-endian-vs-little-endian/"},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Moreover, in this implementation, only the number of bytes specified by ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"bpp","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" is set. I'm not going to explain the bitwise operations in details, as\nthis is out of the scope of this post. However, I think and hope showing you this alternative was interesting.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":2,"content":"Let's draw on the screen","slug":"Lets-draw-on-the-screen"},{"type":"heading","level":3,"content":"Drawing functions refactoring","slug":"Drawing-functions-refactoring"},{"type":"paragraph","richText":[{"content":"What we need to do now is to change every drawing function to make it use the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"t_img","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" object instead of the window directly.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Let's refactor the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render_rect","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int render_rect(t_img *img, t_rect rect)\n{\n\tint\ti;\n\tint j;\n\n\ti = rect.y;\n\twhile (i \u003c rect.y + rect.height)\n\t{\n\t\tj = rect.x;\n\t\twhile (j \u003c rect.x + rect.width)\n\t\t\timg_pix_put(img, j++, i, rect.color);\n\t\t++i;\n\t}\n\treturn (0);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"As well as ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render_background","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":":","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"void\trender_background(t_img *img, int color)\n{\n\tint\ti;\n\tint\tj;\n\n\ti = 0;\n\twhile (i \u003c WINDOW_HEIGHT)\n\t{\n\t\tj = 0;\n\t\twhile (j \u003c WINDOW_WIDTH)\n\t\t{\n\t\t\timg_pix_put(img, j++, i, color);\n\t\t}\n\t\t++i;\n\t}\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"As you can see, the refactor is pretty easy to do, nothing complicated here.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":3,"content":"Changing the render function","slug":"Changing-the-render-function"},{"type":"paragraph","richText":[{"content":"The most important change we need to do is in the ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"render","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" function:","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"codeblock","code":"int\trender(t_data *data)\n{\n\tif (data-\u003ewin_ptr == NULL)\n\t\treturn (1);\n\trender_background(\u0026data-\u003eimg, WHITE_PIXEL);\n\trender_rect(\u0026data-\u003eimg, (t_rect){WINDOW_WIDTH - 100, WINDOW_HEIGHT - 100,\n\t\t100, 100, GREEN_PIXEL});\n\trender_rect(\u0026data-\u003eimg, (t_rect){0, 0, 500, 300, RED_PIXEL});\n\n\tmlx_put_image_to_window(data-\u003emlx_ptr, data-\u003ewin_ptr, data-\u003eimg.mlx_img, 0, 0);\n\n\treturn (0);\n}\n","language":"c"},{"type":"paragraph","richText":[{"content":"Now we're performing all our drawing operations on our image instead of directly pushing the pixels\non the screen.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"We then need to push the updated image on the window, which is done using ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_put_image_to_window","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":". Coordinates\nof the image are (0, 0) because it is covering the whole window. The ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"mlx_put_image_to_window","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default","href":null},{"content":" will push the image\nas well as the changes done to it (if any) at each frame.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"image","url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/45787c87-f8b9-4b78-84fa-88c6ac920462/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230228%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230228T150551Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=24bf23baf62de06e6f18555197723434a135e81c49cfbd7cb8bef2310edb5ef8\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiryTime":"2023-02-28T16:05:51.206Z"},{"type":"paragraph","richText":[{"content":"See what we have now ? Awesome!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"heading","level":1,"content":"Congratulations","slug":"Congratulations"},{"type":"paragraph","richText":[{"content":"If you are reading this, congratulations! It was a really long post, but I found necessary to explain\nhow the things really work.","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"Now you're mastering the basics of the minilibx, you can do almost what you want with it without compromising efficiency!","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]},{"type":"paragraph","richText":[{"content":"You can find the final code ","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null},{"content":"here","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":"https://github.com/aurelien-brabant/minilibx-posts-code"},{"content":".","bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default","href":null}]}],"map":[{"type":"heading","level":1,"content":"Wanderer, beware!","slug":"Wanderer-beware","children":[{"type":"heading","level":1,"content":"Screen metrics","slug":"Screen-metrics","children":[{"type":"heading","level":1,"content":"Drawing pixels on the window using mlx_pixel_put","slug":"Drawing-pixels-on-the-window-using-mlx_pixel_put","children":[{"type":"heading","level":2,"content":"Encoding a color, according to the True Color standard","slug":"Encoding-a-color-according-to-the-True-Color-standard","children":[{"type":"heading","level":3,"content":"Settings the bits directly","slug":"Settings-the-bits-directly","children":[{"type":"heading","level":3,"content":"Using the hexadecimal notation","slug":"Using-the-hexadecimal-notation","children":[],"parentId":3,"id":5}],"parentId":3,"id":4}],"parentId":2,"id":3},{"type":"heading","level":2,"content":"Let's put the pixel !","slug":"Lets-put-the-pixel-","children":[{"type":"heading","level":3,"content":"A small check to be safe","slug":"A-small-check-to-be-safe","children":[],"parentId":6,"id":7}],"parentId":2,"id":6},{"type":"heading","level":2,"content":"Let's draw a rectangle !","slug":"Lets-draw-a-rectangle-","children":[{"type":"heading","level":2,"content":"Drawbacks of our approach","slug":"Drawbacks-of-our-approach","children":[{"type":"heading","level":3,"content":"Let's find out what the problem is","slug":"Lets-find-out-what-the-problem-is","children":[],"parentId":9,"id":10}],"parentId":2,"id":9}],"parentId":2,"id":8}],"parentId":null,"id":2}],"parentId":null,"id":1}],"parentId":null,"id":0},{"type":"heading","level":1,"content":"Using minilibx images to draw on the screen","slug":"Using-minilibx-images-to-draw-on-the-screen","children":[{"type":"heading","level":2,"content":"Creating an image","slug":"Creating-an-image","children":[{"type":"heading","level":2,"content":"Accessing one particular pixel of the image","slug":"Accessing-one-particular-pixel-of-the-image","children":[{"type":"heading","level":3,"content":"Finding the pixel's first byte's address","slug":"Finding-the-pixels-first-bytes-address","children":[{"type":"heading","level":3,"content":"(Optional) Alternative implementation of img_pix_put","slug":"Optional-Alternative-implementation-of-img_pix_put","children":[],"parentId":13,"id":15}],"parentId":13,"id":14}],"parentId":11,"id":13}],"parentId":11,"id":12},{"type":"heading","level":2,"content":"Let's draw on the screen","slug":"Lets-draw-on-the-screen","children":[{"type":"heading","level":3,"content":"Drawing functions refactoring","slug":"Drawing-functions-refactoring","children":[{"type":"heading","level":3,"content":"Changing the render function","slug":"Changing-the-render-function","children":[],"parentId":16,"id":18}],"parentId":16,"id":17}],"parentId":11,"id":16}],"parentId":null,"id":11},{"type":"heading","level":1,"content":"Congratulations","slug":"Congratulations","children":[],"parentId":null,"id":19}],"_nextI18Next":{"initialI18nStore":{"en":{"header":{"nav_solutions":"Solutions","nav_blog":"Blog","nav_projects":"Projects","nav_about":"About","nav_contact":"Get in touch"},"footer":{},"home":{"headline":"Aurélien Brabant","subheadline":"Freelance Fullstack Web Developer","description":"I build blazing fast and reliable web infrastructures on top of the most modern web technologies.","cta_solutions":"Solutions","cta_blog":"Read me","solutions_headline":"Your problems, my solutions","solutions_subheadline":"Bring your projects to the next level","solutions_description":"As a fullstack web developer, I'm offering a variety of services that will help you with your business. I'm also quite invested in the blockchain ecosystem.","solutions_soon_name":"Available soon","solutions_soon_description":"This service will be made available soon. Stay tuned!","solutions_frontend_development_name":"Front-end Development","solutions_frontend_development_description":"I give birth to clean, modern and responsive designs using mostly React, NextJS and TailwindCSS.","solutions_backend_development_name":"Backend Development","solutions_backend_development_description":"I design and develop backends that communicate with web front-ends as well as relational databases.","solutions_blockchain_development_name":"Web 3.0","solutions_blockchain_development_description":"I integrate web 3.0 projects living on the blockchain with traditional web 2.0 infrastructures.","solutions_containerization_name":"Containerization","solutions_containerization_description":"I put applications in docker containers because stability and ease of deployment are my top priorities.","solutions_seo_name":"Search Engine Optimization Boost","solutions_seo_description":"I make sure that the websites I work on always get the better out of Google's search engine ranking."}}},"initialLocale":"en","userConfig":{"i18n":{"defaultLocale":"en","locales":["en"]},"default":{"i18n":{"defaultLocale":"en","locales":["en"]}}}}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"pixel-drawing-with-the-minilibx"},"buildId":"yny1r0ESVlVc4LEypTBWF","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><script src="./Pixel drawing with the miniblix _ Aurelien Brabant_files/blog-5756ddf98fd2633b.js"></script></body></html>